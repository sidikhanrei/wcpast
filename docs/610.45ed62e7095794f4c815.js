(self.webpackChunkwachatpro_webclient=self.webpackChunkwachatpro_webclient||[]).push([[610],{32525:(t,i,e)=>{"use strict";e.d(i,{c:()=>r});var n=e(39895),s=e(92468),o=e(37716);const a=[{path:"",children:[{path:"",component:s.V}]}];let r=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[n.Bz.forChild(a)],n.Bz]}),t})()},92468:(t,i,e)=>{"use strict";e.d(i,{V:()=>tt});var n=e(16304),s=e(23815),o=e.n(s),a=e(16738),r=e.n(a),c=e(58665),l=e(37716),d=e(42448),u=e(71386),x=e(38583),f=e(76627),p=e(51095),g=e(88030),h=e(12178),m=e(29790);function Z(t,i){if(1&t){const t=l.EpF();l.TgZ(0,"div",13),l._UZ(1,"mat-icon",14),l.TgZ(2,"div",15),l.TgZ(3,"div"),l._uU(4),l.ALo(5,"translate"),l.qZA(),l.TgZ(6,"div",16),l._uU(7),l.ALo(8,"translate"),l.qZA(),l.TgZ(9,"button",17),l.NdJ("click",function(){return l.CHM(t),l.oxw().Create()}),l._UZ(10,"mat-icon",18),l._uU(11),l.ALo(12,"translate"),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(4),l.hij(" ",l.lcZ(5,4,"instance.empty.title")," "),l.xp6(3),l.hij(" ",l.lcZ(8,6,"instance.empty.desc")," "),l.xp6(2),l.Q6J("disabled",t.Busy),l.xp6(2),l.hij(" ",l.lcZ(12,8,"instance.button.create")," ")}}function v(t,i){if(1&t&&(l.TgZ(0,"div",39),l._uU(1),l.ALo(2,"uppercase"),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",l.lcZ(2,1,t.insid)," ")}}function w(t,i){if(1&t&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",t.alias," ")}}function b(t,i){1&t&&l._UZ(0,"mat-icon",40)}function y(t,i){1&t&&l._UZ(0,"mat-icon",41)}function A(t,i){1&t&&l._UZ(0,"mat-icon",42)}function _(t,i){if(1&t){const t=l.EpF();l.TgZ(0,"button",44),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2).$implicit;return l.oxw(2).stopInstance(i)}),l._UZ(1,"mat-icon",45),l.qZA()}}function q(t,i){if(1&t&&(l.ynx(0),l.YNc(1,_,2,0,"button",43),l.BQk()),2&t){const t=l.oxw().$implicit,i=l.oxw(2);l.xp6(1),l.Q6J("ngIf",i.QR[t.insid])}}function T(t,i){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"button",46),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().$implicit;return l.oxw(2).delete(i)}),l._UZ(2,"mat-icon",47),l.qZA(),l.BQk()}}function I(t,i){if(1&t&&(l.TgZ(0,"div",48),l._UZ(1,"canvas",49),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(1),l.MGl("id","qrcode-",t.insid,"")}}function Q(t,i){1&t&&(l.TgZ(0,"span"),l._uU(1,"WAChatPro Demo"),l.qZA())}function k(t,i){if(1&t&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&t){const t=l.oxw(3).$implicit;l.xp6(1),l.Oqu(null==t||null==t.info?null:t.info.pushname)}}function N(t,i){1&t&&(l.TgZ(0,"span"),l._uU(1,"62xxxxxxxxxxxxx"),l.qZA())}function L(t,i){if(1&t&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&t){const t=l.oxw(3).$implicit;l.xp6(1),l.Oqu(null==t||null==t.info||null==t.info.me?null:t.info.me.user)}}function J(t,i){if(1&t&&(l.ynx(0),l.TgZ(1,"div",55),l._UZ(2,"mat-icon",56),l.TgZ(3,"div"),l.YNc(4,Q,2,0,"span",31),l.YNc(5,k,2,1,"span",31),l.qZA(),l.qZA(),l.TgZ(6,"div",57),l._UZ(7,"mat-icon",58),l.TgZ(8,"div"),l.YNc(9,N,2,0,"span",31),l.YNc(10,L,2,1,"span",31),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw(2).$implicit;l.xp6(2),l.Q6J("ngClass",1==t.expired?"text-red-600":"text-green-600"),l.xp6(2),l.Q6J("ngIf","demo"==t.insid),l.xp6(1),l.Q6J("ngIf","demo"!=t.insid),l.xp6(2),l.Q6J("ngClass",1==t.expired?"text-red-600":"text-green-600"),l.xp6(2),l.Q6J("ngIf","demo"==t.insid),l.xp6(1),l.Q6J("ngIf","demo"!=t.insid)}}function U(t,i){1&t&&(l.ynx(0),l.TgZ(1,"div",59),l._UZ(2,"mat-icon",60),l.TgZ(3,"div"),l.TgZ(4,"span"),l._uU(5),l.ALo(6,"translate"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",61),l._UZ(8,"mat-icon",62),l.TgZ(9,"div"),l.TgZ(10,"span"),l._uU(11),l.ALo(12,"translate"),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&t&&(l.xp6(5),l.Oqu(l.lcZ(6,2,"instance.unlicensed.number")),l.xp6(6),l.Oqu(l.lcZ(12,4,"instance.unlicensed.name")))}function B(t,i){1&t&&(l.TgZ(0,"div",63),l.TgZ(1,"div",64),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA()),2&t&&(l.xp6(2),l.hij(" ",l.lcZ(3,1,"instance.cannot_use")," "))}function C(t,i){1&t&&(l.TgZ(0,"span",68),l._UZ(1,"span",69),l._UZ(2,"span",70),l.qZA())}function D(t,i){if(1&t&&(l.TgZ(0,"div",65),l.TgZ(1,"div",66),l.YNc(2,C,3,0,"span",67),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.qZA()),2&t){const t=l.oxw(2).$implicit;l.xp6(2),l.Q6J("ngIf",1==t.running&&1!=t.expired),l.xp6(1),l.hij(" ",l.lcZ(4,2,"instance.running")," ")}}function Y(t,i){1&t&&(l.TgZ(0,"div",65),l.TgZ(1,"div",71),l.TgZ(2,"span",72),l._UZ(3,"span",73),l._UZ(4,"span",74),l.qZA(),l._uU(5),l.ALo(6,"translate"),l.qZA(),l.qZA()),2&t&&(l.xp6(5),l.hij(" ",l.lcZ(6,1,"instance.expired")," "))}function S(t,i){if(1&t){const t=l.EpF();l.TgZ(0,"div",75),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2).$implicit;return l.oxw(2).openDialog(i,"date")}),l._UZ(1,"mat-icon",76),l.TgZ(2,"div",77),l._uU(3," Expired: "),l.TgZ(4,"span",78),l._uU(5),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(2).$implicit,i=l.oxw(2);l.xp6(1),l.Q6J("ngClass",1==(null==t?null:t.expired)?"text-red-600":"opacity-40")("svgIcon","heroicons_solid:clock"),l.xp6(3),l.Q6J("ngClass",1==(null==t?null:t.expired)?"text-red-600":""),l.xp6(1),l.Oqu(i.formatDate(t.expired_date))}}function R(t,i){if(1&t){const t=l.EpF();l.TgZ(0,"div",79),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2).$implicit;return l.oxw(2).downloadPDF(i.pdf)}),l._UZ(1,"mat-icon",80),l._uU(2," Panduan Pembayaran "),l.qZA()}2&t&&(l.xp6(1),l.Q6J("svgIcon","heroicons_outline:document-download"))}function P(t,i){if(1&t&&(l.ynx(0),l.YNc(1,J,11,6,"ng-container",31),l.YNc(2,U,13,6,"ng-container",31),l._UZ(3,"div",50),l.YNc(4,B,4,3,"div",51),l.YNc(5,D,5,4,"div",52),l.YNc(6,Y,7,3,"div",52),l.YNc(7,S,6,4,"div",53),l.YNc(8,R,3,1,"div",54),l.BQk()),2&t){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngIf",t.info),l.xp6(1),l.Q6J("ngIf",!t.info),l.xp6(2),l.Q6J("ngIf",!t.expired_date),l.xp6(1),l.Q6J("ngIf",1==t.running&&1!=t.expired),l.xp6(1),l.Q6J("ngIf",1==t.expired&&t.expired_date),l.xp6(1),l.Q6J("ngIf",t.expired_date),l.xp6(1),l.Q6J("ngIf",t.pdf)}}function O(t,i){1&t&&l._UZ(0,"div",86)}function z(t,i){if(1&t&&l._UZ(0,"div",87),2&t){const t=l.oxw(2).$implicit;l.Q6J("ngClass",1==t.expired&&t.expired_date?"border-red-600":1==t.running?"border-primary-600":"border-gray-200")}}function j(t,i){if(1&t){const t=l.EpF();l.TgZ(0,"button",90),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(4).$implicit;return l.oxw(2).startInstance(i)}),l.TgZ(1,"span",91),l._UZ(2,"mat-icon",92),l.TgZ(3,"span"),l._uU(4,"Start"),l.qZA(),l.qZA(),l.qZA()}}function M(t,i){if(1&t){const t=l.EpF();l.TgZ(0,"button",93),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(4).$implicit;return l.oxw(2).stopInstance(i)}),l.TgZ(1,"span",91),l._UZ(2,"mat-icon",94),l.TgZ(3,"span"),l._uU(4,"Stop"),l.qZA(),l.qZA(),l.qZA()}}function E(t,i){if(1&t&&(l.ynx(0),l.YNc(1,j,5,0,"button",88),l.YNc(2,M,5,0,"button",89),l.BQk()),2&t){const t=l.oxw(3).$implicit;l.xp6(1),l.Q6J("ngIf",1!=t.running),l.xp6(1),l.Q6J("ngIf",1==t.running)}}function H(t,i){1&t&&(l.ynx(0),l.TgZ(1,"div",95),l._uU(2," EXPIRED "),l.qZA(),l.BQk())}function F(t,i){1&t&&(l.ynx(0),l.TgZ(1,"div",96),l._uU(2," UNLICENSED "),l.qZA(),l.BQk())}function W(t,i){if(1&t&&(l.ynx(0),l.YNc(1,E,3,2,"ng-container",31),l.YNc(2,H,3,0,"ng-container",31),l.YNc(3,F,3,0,"ng-container",31),l.BQk()),2&t){const t=l.oxw(2).$implicit;l.xp6(1),l.Q6J("ngIf",0==t.expired&&t.expired_date),l.xp6(1),l.Q6J("ngIf",1==t.expired),l.xp6(1),l.Q6J("ngIf",!t.expired_date)}}function X(t,i){if(1&t&&(l.TgZ(0,"div",81),l.TgZ(1,"div",82),l.YNc(2,O,1,0,"div",83),l.YNc(3,z,1,1,"div",84),l.qZA(),l.TgZ(4,"div",85),l.YNc(5,W,4,3,"ng-container",31),l.qZA(),l.qZA()),2&t){const t=l.oxw().$implicit,i=l.oxw(2);l.xp6(2),l.Q6J("ngIf",1==t.running),l.xp6(1),l.Q6J("ngIf",1!=t.running),l.xp6(1),l.Q6J("ngClass",1!=t.running||1==t.expired||i.Busy?"text-center":"text-right"),l.xp6(1),l.Q6J("ngIf",!i.Busy)}}function V(t,i){if(1&t){const t=l.EpF();l.TgZ(0,"div",97),l.TgZ(1,"div",82),l._UZ(2,"mat-progress-bar",98),l.qZA(),l.TgZ(3,"div",99),l.TgZ(4,"button",100),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().$implicit;return l.oxw(2).stopInstance(i)}),l.TgZ(5,"span",91),l._UZ(6,"mat-icon",101),l.TgZ(7,"span"),l._uU(8,"Cancel"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}}function G(t,i){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"div",26),l.NdJ("click",function(){const i=l.CHM(t).$implicit;return l.oxw(2).openDialog(i)}),l.TgZ(2,"div",27),l.TgZ(3,"div",28),l.TgZ(4,"div",29),l.YNc(5,v,3,3,"div",30),l.YNc(6,w,2,1,"div",31),l.qZA(),l.TgZ(7,"div",32),l.ynx(8),l.YNc(9,b,1,0,"mat-icon",33),l.YNc(10,y,1,0,"mat-icon",34),l.YNc(11,A,1,0,"mat-icon",35),l.BQk(),l.YNc(12,q,2,1,"ng-container",31),l.YNc(13,T,3,0,"ng-container",31),l.qZA(),l.qZA(),l.YNc(14,I,2,1,"div",36),l.YNc(15,P,9,7,"ng-container",31),l.qZA(),l.YNc(16,X,6,4,"div",37),l.YNc(17,V,9,0,"div",38),l.qZA(),l.BQk()}if(2&t){const t=i.$implicit,e=l.oxw(2);l.xp6(1),l.Q6J("ngClass",1!=t.expired&&t.expired_date?"":"cursor-pointer"),l.xp6(3),l.Q6J("ngClass",1==t.expired?"text-red-800 bg-red-100 dark:text-red-50 dark:bg-red-500":1==t.running&&t.expired_date?"text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500":"text-gray-800 bg-gray-100 dark:text-gray-50 dark:bg-gray-500"),l.xp6(1),l.Q6J("ngIf",!t.alias),l.xp6(1),l.Q6J("ngIf",t.alias),l.xp6(3),l.Q6J("ngIf",1==t.running&&1!=t.expired),l.xp6(1),l.Q6J("ngIf",1==t.expired&&t.expired_date),l.xp6(1),l.Q6J("ngIf",!t.expired_date),l.xp6(1),l.Q6J("ngIf",e.Busy&&1!=t.running),l.xp6(1),l.Q6J("ngIf",!e.Busy&&!t.expired_date),l.xp6(1),l.Q6J("ngIf",e.QR[t.insid]),l.xp6(1),l.Q6J("ngIf",!e.QR[t.insid]),l.xp6(1),l.Q6J("ngIf",!e.Busy),l.xp6(1),l.Q6J("ngIf",e.Busy&&e.QR[t.insid]||e.Loader[t.insid])}}function K(t,i){if(1&t){const t=l.EpF();l.TgZ(0,"div",19),l.TgZ(1,"div",20),l.TgZ(2,"div"),l.TgZ(3,"button",21),l.NdJ("click",function(){return l.CHM(t),l.oxw().Create()}),l._UZ(4,"mat-icon",18),l._uU(5),l.ALo(6,"translate"),l.qZA(),l.TgZ(7,"button",22),l.NdJ("click",function(){return l.CHM(t),l.oxw().Reload()}),l._UZ(8,"mat-icon",23),l._uU(9," Refresh Instance "),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"div",24),l.YNc(11,G,18,13,"ng-container",25),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(3),l.Q6J("disabled",t.Busy),l.xp6(2),l.hij(" ",l.lcZ(6,4,"instance.button.create")," "),l.xp6(2),l.Q6J("disabled",t.Busy),l.xp6(4),l.Q6J("ngForOf",t.List)}}let tt=(()=>{class t{constructor(t,i){this.core=t,this.zone=i,this.AllSub={},this.Ready=!1,this.Default={},this.form={},this.Busy=!1,this.DataExpired=86400,this.Name={instance:"inst-list"},this.watchTimer=3e3,this.QR=[],this.PrevQR=[],this.Loader=[],this.Detail={},this.Com={url:"e/instance/",id:"app.instance",name:"Manage Instances"},this.AllList={},this.List=[],this.qrcode=[],this.qrSubs=[]}ngOnInit(){this.core.setTitle(this.Com.name),this.loadData()}ngOnDestroy(){if(Object.keys(this.AllSub).length>0)for(let t in this.AllSub)this.AllSub[t]&&this.AllSub[t].unsubscribe();if(this.qrSubs.length>0)for(let t of this.qrSubs)t&&this.qrSubs[t]&&this.qrSubs[t].unsubscribe();clearTimeout(this.watchAction),clearTimeout(this.delayDraw)}Reload(){this.loadData(!0)}formatDate(t){if(t)return r()(t,"YYYY-MM-DD HH:mm:ss").format("DD MMM YYYY, HH:mm")}loadData(t=!1){this.Busy||(this.Busy=!0,clearTimeout(this.delayLoadData),this.delayLoadData=setTimeout(()=>{let i=this.Name.instance;this.AllList[i]||(this.AllList[i]=[]),t?this.execLoadData(t):this.core.getStorage({id:i,isjson:!0}).then(i=>{var e;if(i){var n=i.data,s=r()(i.stamp);r()(new Date).diff(s,"seconds")>this.DataExpired&&(null===(e=this.List)||void 0===e?void 0:e.length)<=0?this.execLoadData(t):this.zone.run(()=>{n=o().filter(n,t=>"demo"!=t.insid),this.List=n;for(let i of this.List)if(i.info)try{i.info=JSON.parse(i.info)}catch(t){}this.List.length>0&&(this.List=o().filter(this.List,t=>"demo"!=t.insid)),this.Busy=!1})}else this.execLoadData(t)})},100))}execLoadData(t){clearTimeout(this.delayLoadData),this.delayLoadData=setTimeout(()=>{this.core.Do(this.Com.url+"data",{}).subscribe(i=>{this.Busy=!1,i&&i.data&&this.zone.run(()=>{let e=500;t&&(e=1e3),setTimeout(()=>{i.data=o().filter(i.data,t=>"demo"!=t.insid),this.List=i.data;for(let t of this.List)if(t.info)try{t.info=JSON.parse(t.info)}catch(e){}this.List.length>0&&(this.List=o().filter(this.List,t=>"demo"!=t.insid)),this.updateStorage(i.data,t,this.Name.instance)},e)})},t=>{this.Busy=!1})},100)}updateStorage(t,i=!1,e=this.Name.instance){this.core.getStorage({id:e,isjson:!0}).then(n=>{var s;if(n&&!i){var a=n.data,c=r()(n.stamp);if(r()(new Date).diff(c,"seconds")>this.DataExpired&&(null===(s=this.List)||void 0===s?void 0:s.length)>0)this.core.setStorage({id:e,isjson:!0},{data:t,stamp:r()(new Date)});else{var l=[...a,...t],d=o().uniqBy(l,"id");this.core.setStorage({id:e,isjson:!0},{data:d,stamp:c}).then(()=>{this.core.loadInstances(i)})}}else this.core.setStorage({id:e,isjson:!0},{data:t,stamp:r()(new Date)})})}watchQR(t){var i=this;this.qrSubs[t.insid]=this.core.FS.collection("_QRCODE",t=>t.limit(1)).doc(t.insid).snapshotChanges().subscribe(function(){var e=(0,n.Z)(function*(e){const n=e.payload.data();i.QR[t.insid]=null,(null==n?void 0:n.data)&&i.Busy&&(i.QR[t.insid]&&(i.PrevQR[t.insid]=i.QR[t.insid]),i.QR[t.insid]=n.data,i.QR[t.insid]!=i.PrevQR[t.insid]&&i.drawQR(t,n.data))});return function(t){return e.apply(this,arguments)}}())}drawQR(t,i){i&&(clearTimeout(this.delayDraw),this.delayDraw=setTimeout(()=>{let e=$("qrcode-"+t.insid).width(),n=document.getElementById("qrcode-"+t.insid);this.qrcode[t.insid]=new c.Z({canvas:n,content:i,width:e,logo:{src:"/assets/icons/logo-whatsapp.svg"},nodeQrCodeOptions:{errorCorrectionLevel:"M"}}),this.qrcode[t.insid].toCanvas().then(()=>{})},1e3))}Create(){return!this.Busy&&(o().filter(this.List,t=>null==t.expired_date||""==t.expired_date).length>=1?(this.core.OpenAlert({type:"error",title:this.core.translatePipe("instance.alert.create.title"),html:this.core.translatePipe("instance.alert.create.html")}),!1):(this.Busy=!0,void this.core.Do(this.Com.url+"add",{}).subscribe(t=>{if(1==t.status&&this.core.OpenAlert({type:"success",title:this.core.translatePipe("instance.alert.success.title"),html:this.core.translatePipe("instance.alert.success.html")}),t.data){t.data=o().filter(t.data,t=>"demo"!=t.insid),this.List=t.data;for(let t of this.List)if(t.info)try{t.info=JSON.parse(t.info)}catch(i){}this.List.length>0&&(this.List=o().filter(this.List,t=>"demo"!=t.insid)),this.updateStorage(t.data,!0,this.Name.instance)}this.Busy=!1},t=>{this.Busy=!1})))}startInstance(t){return 1==t.id?(this.core.OpenNotif("Not Allowed for Demo Instance"),!1):!this.Busy&&(this.Busy=!0,this.PrevQR[t.insid]=null,this.QR[t.insid]=null,this.watchStart(t,!0),this.Loader[t.insid]=!0,void this.watchQR(t))}watchStart(t,i=!1){if(this.Busy){var e={insid:t.insid,NoLoader:!0};i&&(e.first=1),this.core.Do(this.Com.url+"start",e).subscribe(e=>{if(1!=e.status){if(this.core.OpenNotif(this.core.translatePipe("global_error")),!i&&1==e.stopped)return this.Busy=!1,this.QR[t.insid]=null,this.PrevQR[t.insid]=null,clearTimeout(this.watchAction),this.qrSubs[t.insid]&&(this.qrSubs[t.insid].unsubscribe(),this.qrSubs[t.insid]=null),this.core.sharing("refresh-instance","ok"),console.log("Stopped"),!1;this.Busy=!1,this.Loader[t.insid]=!1}else 1==e.running&&(t.running=1,this.Busy=!1,this.Loader[t.insid]=!1,clearTimeout(this.watchAction),this.qrSubs[t.insid]&&this.qrSubs[t.insid].unsubscribe(),this.core.sharing("refresh-instance","ok")),this.watchAction=setTimeout(()=>{this.watchStart(t)},this.watchTimer)},i=>{this.core.OpenNotif(this.core.translatePipe("global_error")),this.Busy=!1,this.Loader[t.insid]=!1,this.PrevQR[t.insid]=null,this.QR[t.insid]=null})}}stopInstance(t){this.core.OpenConfirm({title:this.core.translatePipe("instance.alert.stop.title"),html:this.core.translatePipe("instance.alert.stop.html"),confirmText:this.core.translatePipe("instance.alert.stop.ok"),cancelText:this.core.translatePipe("instance.alert.stop.cancel")},i=>{if(i.value){if(this.PrevQR[t.insid]=null,this.QR[t.insid]=null,1==t.id)return this.core.OpenNotif("Not Allowed for Demo Instance"),!1;this.Busy=!0,this.watchStop(t)}})}watchStop(t){this.Busy&&this.core.Do(this.Com.url+"stop",{insid:t.insid,NoLoader:!0}).subscribe(i=>{1!=i.status?(this.core.OpenNotif(this.core.translatePipe("global_error")),this.Busy=!1,this.Loader[t.insid]=!1):(t.running=0,this.Busy=!1,this.Loader[t.insid]=!1,clearTimeout(this.watchAction))},i=>{this.core.OpenNotif(this.core.translatePipe("global_error")),this.Busy=!1,this.Loader[t.insid]=!1,this.PrevQR[t.insid]=null,this.QR[t.insid]=null})}delete(t){this.core.OpenConfirm({title:this.core.translatePipe("instance.alert.delete.title"),html:this.core.translatePipe("instance.alert.delete.html"),confirmText:this.core.translatePipe("instance.alert.delete.ok"),cancelText:this.core.translatePipe("instance.alert.delete.cancel")},i=>{if(i.value){if(this.Busy)return!1;var e={id:t.id};this.Busy=!0,this.core.Do(this.Com.url+"hapus",e).subscribe(i=>{if(i)if(1==i.status){let i=o().filter(this.List,i=>i.id!=t.id);this.List=i,this.updateStorage(i,!0,this.Name.instance),this.Busy=!1}else this.Busy=!1;else this.Busy=!1},i=>{this.Busy=!1,this.core.OpenNotif(this.core.translatePipe("global_error")),this.PrevQR[t.insid]=null,this.QR[t.insid]=null})}})}openDialog(t,i="container"){if("container"==i&&1!=t.expired&&t.expired_date)return!1;clearTimeout(this.delayOpen),this.delayOpen=setTimeout(()=>{this.core.openDialogLicense(t,t=>{t.refresh&&this.Reload()})},100)}downloadPDF(t){if(t){this.core.ShowLoader();var i=document.createElement("a");i.download="Panduan Pembayaran.pdf",i.href=t,i.click(),setTimeout(()=>{this.core.HideLoader()},500)}}}return t.\u0275fac=function(i){return new(i||t)(l.Y36(d.Q),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-instance"]],decls:19,vars:11,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"relative","flex-0","py-2","px-4","md:p-6","xs:p-16","overflow-hidden","bg-primary-800","dark"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],[1,"z-10","relative","flex","flex-col","items-center"],[1,"text-xl","font-semibold","text-yellow-400"],[1,"mt-1","text-4xl","sm:text-5xl","font-bold","tracking-tight","leading-tight","text-center"],[1,"max-w-2xl","mt-6","sm:text-lg","text-center","tracking-tight","text-gray-100"],[1,"flex","flex-col","flex-auto","p-6","sm:p-10","overflow-y-autox"],["class","flex flex-auto flex-col items-center justify-center bg-gray-100 dark:bg-transparent",4,"ngIf"],["class","flex flex-col flex-auto w-full max-w-xs sm:max-w-5xl mx-auto relative",4,"ngIf"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],["svgIcon","heroicons_outline:desktop-computer",1,"icon-size-20"],[1,"mt-6","text-2xl","font-semibold","tracking-tight","text-secondary","text-center"],[1,"font-normal","text-lg"],["mat-flat-button","","color","primary",1,"md:w-max","xs:w-full","mt-10",3,"disabled","click"],["svgIcon","heroicons_outline:plus",1,"mr-2"],[1,"flex","flex-col","flex-auto","w-full","max-w-xs","sm:max-w-5xl","mx-auto","relative"],[1,"absolute","xs:static","md:-top-5","xs:-top-4","left-auto"],["mat-flat-button","","color","primary",1,"md:w-max","xs:w-full",3,"disabled","click"],["mat-flat-button","","color","secondary",1,"md:ml-2","md:w-max","xs:w-full","xs:mt-5",3,"disabled","click"],["svgIcon","mat_outline:refresh",1,"mr-2"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-8","mt-8","sm:mt-10"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","shadow","rounded-2xl","overflow-hidden","bg-card","relative",3,"ngClass","click"],[1,"flex","flex-col","p-6"],[1,"flex","items-center","justify-between"],[1,"py-0.5","px-3","rounded-full","text-sm","font-semibold",3,"ngClass"],["class","text-xs",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center","relative"],["class","icon-size-6 text-green-600","svgIcon","heroicons_outline:badge-check",4,"ngIf"],["class","icon-size-6 text-red-600","svgIcon","heroicons_outline:clock",4,"ngIf"],["class","icon-size-6 text-orange-600","svgIcon","heroicons_outline:exclamation",4,"ngIf"],["class","flex flex-col mt-4",4,"ngIf"],["class","flex flex-col w-full mt-auto",4,"ngIf"],["class","flex flex-col w-full mt-0",4,"ngIf"],[1,"text-xs"],["svgIcon","heroicons_outline:badge-check",1,"icon-size-6","text-green-600"],["svgIcon","heroicons_outline:clock",1,"icon-size-6","text-red-600"],["svgIcon","heroicons_outline:exclamation",1,"icon-size-6","text-orange-600"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],["svgIcon","heroicons_outline:x-circle",1,"icon-size-6"],["mat-icon-button","","color","warn",1,"absolute","top-8","-left-2",3,"click"],["svgIcon","heroicons_outline:trash",1,"icon-size-6"],[1,"flex","flex-col","mt-4"],[1,"p-0","rounded-xl","w-full","h-full",3,"id"],[1,"w-12","h-1","my-4","border-t-2"],["class","flex items-center leading-5 text-md text-secondary italic",4,"ngIf"],["class","flex items-center leading-5 text-md text-secondary italic font-bold",4,"ngIf"],["class","flex items-center leading-5 text-md text-secondary -ml-1 mt-2 cursor-pointer",3,"click",4,"ngIf"],["class","mt-3 flex flex-row text-blue-600 cursor-pointer",3,"click",4,"ngIf"],[1,"flex","flex-row","mt-4","text-lg","font-bold"],["svgIcon","heroicons_outline:arrow-sm-right",1,"icon-size-5","mr-1",2,"margin-top","2px",3,"ngClass"],[1,"flex","flex-row","mt-0.5","text-secondary"],["svgIcon","wa",1,"icon-size-4","mr-2",2,"margin-top","2px",3,"ngClass"],[1,"flex","flex-row","mt-4","text-lg","italic","text-gray-400"],["svgIcon","heroicons_outline:information-circle",1,"icon-size-5","mr-1",2,"margin-top","2px"],[1,"flex","flex-row","mt-0.5","text-gray-400"],["svgIcon","heroicons_outline:information-circle",1,"icon-size-5","mr-1"],[1,"flex","items-center","leading-5","text-md","text-secondary","italic"],[1,"ml-1.5","text-red-700"],[1,"flex","items-center","leading-5","text-md","text-secondary","italic","font-bold"],[1,"pl-5","text-green-700","relative"],["class","flex absolute h-3 w-3 top-1 left-0",4,"ngIf"],[1,"flex","absolute","h-3","w-3","top-1","left-0"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-green-500","opacity-75"],[1,"relative","inline-flex","rounded-full","h-3","w-3","bg-green-600"],[1,"pl-7","text-red-700","relative"],[1,"flex","absolute","h-3","w-3","top-1","left-0",2,"left","3px"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-red-500","opacity-75"],[1,"relative","inline-flex","rounded-full","h-3","w-3","bg-red-600"],[1,"flex","items-center","leading-5","text-md","text-secondary","-ml-1","mt-2","cursor-pointer",3,"click"],[1,"icon-size-5",3,"ngClass","svgIcon"],[1,"ml-1.5"],[3,"ngClass"],[1,"mt-3","flex","flex-row","text-blue-600","cursor-pointer",3,"click"],[1,"icon-size-5","mr-2","-ml-1","text-blue-600",3,"svgIcon"],[1,"flex","flex-col","w-full","mt-auto"],[1,"relative","h-0.5"],["class","w-full h-0.5 mb-4 border-t border-primary",4,"ngIf"],["class","w-full h-0.5 mb-4 border-t",3,"ngClass",4,"ngIf"],[1,"px-3","bg-gray-50","dark:bg-transparent",3,"ngClass"],[1,"w-full","h-0.5","mb-4","border-t","border-primary"],[1,"w-full","h-0.5","mb-4","border-t",3,"ngClass"],["type","button","mat-button","","color","primary","class","p-0 px-2 w-full",3,"click",4,"ngIf"],["mat-button","","color","warn","class","p-0 px-2",3,"click",4,"ngIf"],["type","button","mat-button","","color","primary",1,"p-0","px-2","w-full",3,"click"],[1,"inline-flex","items-center"],["svgIcon","heroicons_solid:play",1,"mr-2","icon-size-6"],["mat-button","","color","warn",1,"p-0","px-2",3,"click"],["svgIcon","heroicons_solid:stop",1,"mr-2","icon-size-6"],[1,"p-0","pb-1","text-red-700","italic","my-2","mx-3"],[1,"p-0","pb-1","text-gray-500","italic","my-2","mx-3"],[1,"flex","flex-col","w-full","mt-0"],["color","primary","mode","indeterminate",1,"h-0.5"],[1,"px-3","py-1","bg-gray-50","dark:bg-transparent","text-center"],["mat-button","","color","warn",3,"click"],["svgIcon","heroicons_solid:x-circle",1,"mr-2","icon-size-6"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.O4$(),l.TgZ(2,"svg",2),l.TgZ(3,"g",3),l._UZ(4,"circle",4),l._UZ(5,"circle",5),l.qZA(),l.qZA(),l.kcU(),l.TgZ(6,"div",6),l.TgZ(7,"h2",7),l._uU(8),l.ALo(9,"translate"),l.qZA(),l.TgZ(10,"div",8),l._uU(11),l.ALo(12,"translate"),l.qZA(),l.TgZ(13,"div",9),l._uU(14),l.ALo(15,"translate"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(16,"div",10),l.YNc(17,Z,13,10,"div",11),l.YNc(18,K,12,6,"div",12),l.qZA(),l.qZA()),2&t&&(l.xp6(8),l.hij(" ",l.lcZ(9,5,"instance.title1")," "),l.xp6(3),l.hij(" ",l.lcZ(12,7,"instance.title2")," "),l.xp6(3),l.hij(" ",l.lcZ(15,9,"instance.description")," "),l.xp6(3),l.Q6J("ngIf",(null==i.List?null:i.List.length)<=0),l.xp6(1),l.Q6J("ngIf",(null==i.List?null:i.List.length)>0))},directives:[u.PQ,x.O5,f.Hw,p.lW,x.sg,x.mk,g.oO,h.pW],pipes:[m.X$,x.gd],styles:[""]}),t})()},23304:(t,i,e)=>{"use strict";e.r(i),e.d(i,{InstanceModule:()=>c});var n=e(38583),s=e(32525),o=e(44466),a=e(49616),r=e(37716);e(92468);let c=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.ez,s.c,o.m,a.m]]}),t})()}}]);